(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[471],{828:function(e,t,r){Promise.resolve().then(r.t.bind(r,2972,23)),Promise.resolve().then(r.bind(r,6221))},7648:function(e,t,r){"use strict";r.d(t,{default:function(){return o.a}});var n=r(2972),o=r.n(n)},9376:function(e,t,r){"use strict";var n=r(5475);r.o(n,"usePathname")&&r.d(t,{usePathname:function(){return n.usePathname}}),r.o(n,"useRouter")&&r.d(t,{useRouter:function(){return n.useRouter}})},257:function(e,t,r){"use strict";var n,o;e.exports=(null==(n=r.g.process)?void 0:n.env)&&"object"==typeof(null==(o=r.g.process)?void 0:o.env)?r.g.process:r(4227)},4227:function(e){!function(){var t={229:function(e){var t,r,n,o=e.exports={};function a(){throw Error("setTimeout has not been defined")}function s(){throw Error("clearTimeout has not been defined")}function i(e){if(t===setTimeout)return setTimeout(e,0);if((t===a||!t)&&setTimeout)return t=setTimeout,setTimeout(e,0);try{return t(e,0)}catch(r){try{return t.call(null,e,0)}catch(r){return t.call(this,e,0)}}}!function(){try{t="function"==typeof setTimeout?setTimeout:a}catch(e){t=a}try{r="function"==typeof clearTimeout?clearTimeout:s}catch(e){r=s}}();var u=[],c=!1,l=-1;function d(){c&&n&&(c=!1,n.length?u=n.concat(u):l=-1,u.length&&p())}function p(){if(!c){var e=i(d);c=!0;for(var t=u.length;t;){for(n=u,u=[];++l<t;)n&&n[l].run();l=-1,t=u.length}n=null,c=!1,function(e){if(r===clearTimeout)return clearTimeout(e);if((r===s||!r)&&clearTimeout)return r=clearTimeout,clearTimeout(e);try{r(e)}catch(t){try{return r.call(null,e)}catch(t){return r.call(this,e)}}}(e)}}function h(e,t){this.fun=e,this.array=t}function f(){}o.nextTick=function(e){var t=Array(arguments.length-1);if(arguments.length>1)for(var r=1;r<arguments.length;r++)t[r-1]=arguments[r];u.push(new h(e,t)),1!==u.length||c||i(p)},h.prototype.run=function(){this.fun.apply(null,this.array)},o.title="browser",o.browser=!0,o.env={},o.argv=[],o.version="",o.versions={},o.on=f,o.addListener=f,o.once=f,o.off=f,o.removeListener=f,o.removeAllListeners=f,o.emit=f,o.prependListener=f,o.prependOnceListener=f,o.listeners=function(e){return[]},o.binding=function(e){throw Error("process.binding is not supported")},o.cwd=function(){return"/"},o.chdir=function(e){throw Error("process.chdir is not supported")},o.umask=function(){return 0}}},r={};function n(e){var o=r[e];if(void 0!==o)return o.exports;var a=r[e]={exports:{}},s=!0;try{t[e](a,a.exports,n),s=!1}finally{s&&delete r[e]}return a.exports}n.ab="//";var o=n(229);e.exports=o}()},335:function(e,t,r){"use strict";r.d(t,{A_:function(){return b},ry:function(){return i},oX:function(){return x.oX},tG:function(){return p},_z:function(){return x._z},de:function(){return s},XA:function(){return x.XA},e0:function(){return h},iE:function(){return v},x4:function(){return m},a$:function(){return g},E7:function(){return x.E7},M:function(){return u},zf:function(){return w},ZR:function(){return l}});var n=r(3464),o=r(4131);let a="http://localhost:4000/",s=()=>n.Z.get("".concat(a,"api/products")),i=e=>{let t=o.Z.get("x-token");return n.Z.post("".concat(a,"api/products"),e,{headers:{Authorization:t}})},u=(e,t)=>{let r=o.Z.get("x-token");return n.Z.patch("".concat(a,"api/products/").concat(e),t,{headers:{Authorization:r}})},c=e=>n.Z.post("".concat(a,"api/file/upload"),e),l=async e=>{let t=e=>e.map(e=>{let t=new FormData;return t.append("file",e),t}),r=t(e.thumbnails),n=t(e.previews);try{let e=await Promise.allSettled(r.map(e=>c(e))),t=await Promise.allSettled(n.map(e=>c(e))),o=e.filter(e=>"fulfilled"===e.status).map(e=>e.value),a=t.filter(e=>"fulfilled"===e.status).map(e=>e.value);return{thumbnailsRes:o,previewsRes:a}}catch(e){return console.error("Error subiendo im\xe1genes:",e),null}},d="http://localhost:4000/",p=async()=>n.Z.get("".concat(d,"api/categories")),h=async()=>n.Z.get("".concat(d,"api/productCategories")),f="http://localhost:4000/",m=e=>n.Z.post("".concat(f,"api/auth/login"),e),g=e=>n.Z.post("".concat(f,"api/auth/register"),e),b=e=>{let t=o.Z.get("x-token");return n.Z.patch("".concat(f,"api/auth/change-password"),e,{headers:{Authorization:"Bearer ".concat(t)}})};var x=r(723);let y="http://localhost:4000/",v=()=>{let e=o.Z.get("x-token");return n.Z.get("".concat(y,"api/users/my-account"),{headers:{Authorization:"Bearer ".concat(e)}})},w=e=>{let t=o.Z.get("x-token");return n.Z.patch("".concat(y,"api/users/update-my-account"),e,{headers:{Authorization:"Bearer ".concat(t)}})}},723:function(e,t,r){"use strict";r.d(t,{E7:function(){return c},LV:function(){return s},XA:function(){return i},_z:function(){return u},oX:function(){return l}});var n=r(3464),o=r(4131);let a="http://localhost:4000/",s=e=>{let t=o.Z.get("x-token");return n.Z.post("".concat(a,"api/orders"),e,{headers:{Authorization:t}})},i=()=>{let e=o.Z.get("x-token");return n.Z.get("".concat(a,"api/orders/me"),{headers:{Authorization:e}})},u=()=>{let e=o.Z.get("x-token");return n.Z.get("".concat(a,"api/orders/admin"),{headers:{Authorization:e}})},c=(e,t)=>{let r=o.Z.get("x-token");return n.Z.patch("".concat(a,"api/orders/change-status/").concat(e),{status:t},{headers:{Authorization:r}})},l=e=>{let t=o.Z.get("x-token");return n.Z.delete("".concat(a,"api/orders/").concat(e),{headers:{Authorization:t}})}},1406:function(e,t,r){"use strict";var n=r(7437),o=r(2265);t.Z=e=>{let{notificationAttributes:t,onClose:r}=e,[a,s]=(0,o.useState)(!0),{message:i,error:u}=t;return((0,o.useEffect)(()=>{let e=setTimeout(()=>{s(!1),r()},2500);return()=>clearTimeout(e)},[r]),a)?(0,n.jsx)("div",{className:"fixed top-10 ".concat(u?"bg-red-light":"bg-blue-light"," text-white px-8 py-3 rounded-lg shadow-lg transition-opacity duration-300 z-999999"),children:i}):null}},6221:function(e,t,r){"use strict";r.d(t,{RegisterUserForm:function(){return l}});var n=r(7437),o=r(2265),a=r(9501),s=r(335),i=r(7648),u=r(1406),c=r(9376);let l=()=>{let e=(0,c.useRouter)(),[t,r]=(0,o.useState)(!1),[l,d]=(0,o.useState)({message:"",error:!1}),{register:p,handleSubmit:h,formState:{errors:f}}=(0,a.cI)(),m=async t=>{let{confirmPassword:n,password:o}=t;if(o===n)try{await (0,s.a$)(t),d({message:"Registro exitoso",error:!1}),r(!0),setTimeout(()=>{e.push("/auth/signin")},2500)}catch(e){var a,i;d({message:(null===(i=e.response)||void 0===i?void 0:null===(a=i.data)||void 0===a?void 0:a.message)||"Error al registrar el usuario",error:!0}),r(!0)}};return(0,n.jsxs)("div",{className:"mt-5.5",children:[t&&(0,n.jsx)(u.Z,{notificationAttributes:l,onClose:()=>r(!1)}),(0,n.jsxs)("form",{onSubmit:h(m),children:[(0,n.jsxs)("div",{className:"mb-5",children:[(0,n.jsxs)("label",{htmlFor:"name",className:"block mb-2.5",children:["Full Name ",(0,n.jsx)("span",{className:"text-red",children:"*"})]}),(0,n.jsx)("input",{type:"text",name:"name",id:"name",placeholder:"Enter your full name",className:"rounded-lg border border-gray-3 bg-gray-1 placeholder:text-dark-5 w-full py-3 px-5 outline-none duration-200 focus:border-transparent focus:shadow-input focus:ring-2 focus:ring-blue/20",...p("name",{required:!0})})]}),(0,n.jsxs)("div",{className:"mb-5",children:[(0,n.jsxs)("label",{htmlFor:"email",className:"block mb-2.5",children:["Email Address ",(0,n.jsx)("span",{className:"text-red",children:"*"})]}),(0,n.jsx)("input",{type:"email",name:"email",id:"email",placeholder:"Enter your email address",className:"rounded-lg border border-gray-3 bg-gray-1 placeholder:text-dark-5 w-full py-3 px-5 outline-none duration-200 focus:border-transparent focus:shadow-input focus:ring-2 focus:ring-blue/20",...p("email",{required:!0})})]}),(0,n.jsxs)("div",{className:"mb-5",children:[(0,n.jsxs)("label",{htmlFor:"email",className:"block mb-2.5",children:["Phone ",(0,n.jsx)("span",{className:"text-red",children:"*"})]}),(0,n.jsx)("input",{type:"phone",name:"phone",id:"phone",placeholder:"Enter your phone",className:"rounded-lg border border-gray-3 bg-gray-1 placeholder:text-dark-5 w-full py-3 px-5 outline-none duration-200 focus:border-transparent focus:shadow-input focus:ring-2 focus:ring-blue/20",...p("phone",{required:!0})})]}),(0,n.jsxs)("div",{className:"mb-5",children:[(0,n.jsxs)("label",{htmlFor:"email",className:"block mb-2.5",children:["Address ",(0,n.jsx)("span",{className:"text-red",children:"*"})]}),(0,n.jsx)("input",{type:"address",name:"address",id:"address",placeholder:"Enter your address",className:"rounded-lg border border-gray-3 bg-gray-1 placeholder:text-dark-5 w-full py-3 px-5 outline-none duration-200 focus:border-transparent focus:shadow-input focus:ring-2 focus:ring-blue/20",...p("address",{required:!0})})]}),(0,n.jsxs)("div",{className:"mb-5",children:[(0,n.jsxs)("label",{htmlFor:"password",className:"block mb-2.5",children:["Password ",(0,n.jsx)("span",{className:"text-red",children:"*"})]}),(0,n.jsx)("input",{type:"password",name:"password",id:"password",placeholder:"Enter your password",autoComplete:"on",className:"rounded-lg border border-gray-3 bg-gray-1 placeholder:text-dark-5 w-full py-3 px-5 outline-none duration-200 focus:border-transparent focus:shadow-input focus:ring-2 focus:ring-blue/20",...p("password",{required:!0,minLength:6,maxLength:20})})]}),(0,n.jsxs)("div",{className:"mb-5.5",children:[(0,n.jsxs)("label",{htmlFor:"re-type-password",className:"block mb-2.5",children:["Re-type Password ",(0,n.jsx)("span",{className:"text-red",children:"*"})]}),(0,n.jsx)("input",{type:"password",name:"re-type-password",id:"re-type-password",placeholder:"Re-type your password",autoComplete:"on",className:"rounded-lg border border-gray-3 bg-gray-1 placeholder:text-dark-5 w-full py-3 px-5 outline-none duration-200 focus:border-transparent focus:shadow-input focus:ring-2 focus:ring-blue/20",...p("confirmPassword",{required:!0,minLength:6,maxLength:20})})]}),(0,n.jsx)("button",{type:"submit",className:"w-full flex justify-center font-medium text-white bg-dark py-3 px-6 rounded-lg ease-out duration-200 hover:bg-blue mt-7.5",children:"Create Account"}),(0,n.jsxs)("p",{className:"text-center mt-6",children:["Already have an account?",(0,n.jsx)(i.default,{href:"/auth/signin",className:"text-dark ease-out duration-200 hover:text-blue pl-2",children:"Sign in Now"})]})]})]})}},4131:function(e,t,r){"use strict";function n(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)e[n]=r[n]}return e}r.d(t,{Z:function(){return o}});var o=function e(t,r){function o(e,o,a){if("undefined"!=typeof document){"number"==typeof(a=n({},r,a)).expires&&(a.expires=new Date(Date.now()+864e5*a.expires)),a.expires&&(a.expires=a.expires.toUTCString()),e=encodeURIComponent(e).replace(/%(2[346B]|5E|60|7C)/g,decodeURIComponent).replace(/[()]/g,escape);var s="";for(var i in a)a[i]&&(s+="; "+i,!0!==a[i]&&(s+="="+a[i].split(";")[0]));return document.cookie=e+"="+t.write(o,e)+s}}return Object.create({set:o,get:function(e){if("undefined"!=typeof document&&(!arguments.length||e)){for(var r=document.cookie?document.cookie.split("; "):[],n={},o=0;o<r.length;o++){var a=r[o].split("="),s=a.slice(1).join("=");try{var i=decodeURIComponent(a[0]);if(n[i]=t.read(s,i),e===i)break}catch(e){}}return e?n[e]:n}},remove:function(e,t){o(e,"",n({},t,{expires:-1}))},withAttributes:function(t){return e(this.converter,n({},this.attributes,t))},withConverter:function(t){return e(n({},this.converter,t),this.attributes)}},{attributes:{value:Object.freeze(r)},converter:{value:Object.freeze(t)}})}({read:function(e){return'"'===e[0]&&(e=e.slice(1,-1)),e.replace(/(%[\dA-F]{2})+/gi,decodeURIComponent)},write:function(e){return encodeURIComponent(e).replace(/%(2[346BF]|3[AC-F]|40|5[BDE]|60|7[BCD])/g,decodeURIComponent)}},{path:"/"})}},function(e){e.O(0,[972,464,501,971,117,744],function(){return e(e.s=828)}),_N_E=e.O()}]);